(function(e,a){e(window).width()<992;function d(){e(".burgerMenu").on("click",function(){e(this).hasClass("is-opened")?(e(this).find(".texte").text("Menu"),e(this).removeClass("is-opened"),e("#menuRwd").attr("aria-hidden","true"),e("body").removeClass("overflowBodyMenuOpen")):(e("body").addClass("overflowBodyMenuOpen"),e(this).find(".texte").text("Fermer"),e(this).addClass("is-opened"),e("#menuRwd").attr("aria-hidden","false"))})}function r(){e(".servicesMenu").on("click",function(){e(this).hasClass("is-opened")?(e(this).find(".texte").text("Services"),e(this).prev(".titreTelecommandeMobile").removeClass("is-opened"),e(this).removeClass("is-opened"),e("body").removeClass("overflowBodyMenuOpen"),e("#block-ameli-breadcrumbs, .main-container, .footer").show().removeAttr("aria-hidden")):(e("body").addClass("overflowBodyMenuOpen"),e(this).prev(".titreTelecommandeMobile").addClass("is-opened"),e(this).find(".texte").text("Fermer"),e(this).addClass("is-opened"),e("#block-ameli-breadcrumbs, .main-container, .footer").hide().attr("aria-hidden","true"),e("#menuRwd").collapse("hide").attr("aria-hidden","true"),e(".burgerMenu ").removeClass("is-opened"),e(".burgerMenu .texte").text("Menu"))})}e(document).ready(function(){d(),r(),e('div[id^="block-ameli-menu-main"]').on("click.ameli_menu",'[data-toggle="collapse"], div[id^="block-ameli-menu"] > .container > ul > li > a',function(i){return i.preventDefault(),i.stopImmediatePropagation(),!1})}),e(document).on("ameli_menu_update",function(i){a.behaviors.ameli_search&&a.behaviors.ameli_search.attach(i.context,i.settings),a.behaviors.ameli_xiti&&a.behaviors.ameli_xiti.attach(i.context,i.settings),e(document).off("click.ameli_menu").on("click.ameli_menu",function(l){var o=e(".li-parent > .collapse");!o.is(l.target)&&o.has(l.target).length===0&&o.collapse("hide")});var t=e('div[id^="block-ameli-menu-main"] .collapse'),s=t.find(".submenu").find("button"),n=0;t.off("show.bs.collapse.ameli_menu").on("show.bs.collapse.ameli_menu",function(){n===0&&e(">li.active",e(this).parents("ul")).removeClass("active").addClass("active_off"),n++,e(this).find("li:not(:first-child)").find(".layer").hide(),e(this).find("li:first-child").find(".layer").show(),e(this).find("li:first-child").find("button").attr("aria-expanded","true")}),t.off("hidden.bs.collapse.ameli_menu").on("hidden.bs.collapse.ameli_menu",function(){n--,n===0&&e(">li.active_off",e(this).parents("ul")).removeClass("active_off").addClass("active"),e(this).find("li").find(".layer").hide(),e(this).find("li").find("button").attr("aria-expanded","false")}),s.each(function(){e(this).off("click.ameli_menu").on("click.ameli_menu",function(){s.attr("aria-expanded","false"),s.siblings(".layer").hide(),e(this).attr("aria-expanded","true"),e(this).siblings(".layer").show()})}),e('div[id^="block-ameli-menu-main"]').off("click.ameli_menu")})})(jQuery,Drupal);
